# Item 6. 불필요한 객체 생성을 피하라
똑같은 기능의 객체를 매번 생성하기 보다는, **객체 하나를 재사용 하는 편이 나을 때가 많다.** <br>
특히 불변객체는 언제든 재활용 할 수 있다. <br>

## 더러운 String 만들기
가장 끔찍한 예시로 String을 만드는 예시가 있다. <br>

```java
String str = new String("jinho");
```
위의 코드는 실행될 때마다 String의 인스턴스를 **새로 만들어낸다.** <br>
이는 완전히 쓸모없는 행위로, 아래 코드와 완전히 똑같이 동작한다.
```java
String str = "jinho";
```
그럼에도 `new String()`이 포함된 문장은 매번 인스턴스를 만들어 낸다. <br>
이런 작은 포인트 하나가 큰 문제를 만들어낸다. 만약 저 코드가 앱 안에서 수백 수천건 호출된다면? <br>
필요하지도 않은 인스턴스가 매일 수백 수천개씩 만들어 지는 것이다. <br>
만약 생성 비용이 아주 아주 비싼 객체에서 이런 문제가 발생한다면? 생각만 해도 끔찍하다 <br>


## 생성 비용이 비싼 객체
생성 비용이 비싼 객체를 알아내는 것은 쉽지 않다. <br>
예를 들어 정규 표현식으로 문자열의 형태를 확인하는 `String.matches`가 내부적으로 사용하는 `Pattern`인스턴스는 생성 비용이 높은 객체이다. <br>
그래서 캐싱하여 사용하는 것을 권한다. <br>
그런데 이런 사실을 어떻게 알 수 있는가? 아쉽게도 이 책에선 그런 방법이 제시되지 않는다. 다만 조심하라고 경고할 뿐이다..


## 고려해야 할점
책에서는 조심해야할 객체의 구체적인 예시 몇 개를 들 뿐이다. <br>
그래서 스스로 인스턴스 생성 비용이 비싼 객체를 파악할 줄 알아야 하며, **재사용 가능한 경우에는 재사용 하는게 좋다.** <br> <br>
일단은 객체를 생성하는데 있어, 고려해야 할 사항들을 살펴보자...
1. **정적 팩터리 메서드를 활용해라:** 정적 팩터리 메서드로 생성자를 호출하지 않는다.
2. **비싼 객체는 캐싱하여 사용해라:** 생성 비용이 비싼 객체를 캐싱해서 사용한다.
3. **객체가 불변이라면 재사용해도 안전하다.**
4. **박싱된 기본 타입 보다는 기본 타입을 사용해라:** 오토박싱은 불필요한 객체를 만들어낸다.
5. **웬만한 경우 객체 pool을 만든다고 유리해지지 않는다:** 디비 풀과 같이 매우 무거운 객체가 아니라면 오히려 더 느릴 수가 있다.


결론적으로, **기존에 만듣 객체를 재사용해야 한다면 새로운 객체를 만들지 마라.**


## Reference
- Effective Java <조슈아 블로크>


