# Item 57 : 지역변수의 범위를 최소화하라

**지역 변수(local variable)의 범위(scope)를 최소화하여 가독성과 유지보수성을 높이는 것**은 너무너무 중요하다. **지역변수는 선언과 동시에 초기화**하고, **사용하지 않는 변수는 즉시 해제**할 수 있도록 항상 관리하자.

여기서 잘 이해하고 넘어가면 좋은 것이 바로 코드 블럭의 개념.

> **코드 블럭(code block)이란 중괄호({})로 묶인 코드의 덩어리이다. 코드 블럭은 일반적으로 제어문(if, for, while 등)이나 메서드, 클래스 등의 선언 부분에 사용된다. 코드 블럭 안에서는 변수와 객체를 선언하고 초기화하며, 연산을 수행하고 메서드를 호출할 수 있다.**
> 

코드 블럭은 해당 블럭 안에서 선언된 변수나 객체는 해당 블럭의 범위(scope)에서만 유효하다. 범위를 벗어나면 해당 변수나 객체는 더 이상 사용할 수 없다는 이야기인데 이는 코드 블럭 안에서 선언된 변수나 객체는 해당 블럭이 종료되면서 메모리에서 제거되기 때문. 이러한 변수나 객체의 생명주기(lifecycle)는 코드 블럭의 범위와 일치하기 때문에 지역변수의 범위를 최소화하면 메모리관리의 이점 또한 존재한다. 

```java
// 잘못된 예 - 불필요한 범위를 가지는 지역 변수
public void calculateArea(double radius) {
    double pi = 3.14159265359; // 불필요한 범위를 가지는 지역 변수
    double area = pi * radius * radius;
    System.out.println("원의 넓이는 " + area + "입니다.");
}

// 올바른 예 - 필요한 범위를 가지는 지역 변수
public void calculateArea(double radius) {
    final double pi = 3.14159265359; // 필요한 범위를 가지는 지역 변수
    double area = pi * radius * radius;
    System.out.println("원의 넓이는 " + area + "입니다.");
}
```

예시코드와 같이 어차피 영역을 계산할 때 한번만 사용되는 pi에는 final을 붙여서 살아있는 코드블럭내에서 재할당될 가능성을 없애준다면 가독성도 좋고 찾기 어려운 버그를 줄에는 것에도 도움을 줄 것임. 

동일한 차원에서 while보다는 for문이 더 나은데

```java
Iterator<Element> i = c.iterator();
while (i.hasNext()){
		//어쩌구
}

Iterator<Element> i2 = c2.iterator();
while (i.hasNext()) {
		//저쩌구
}
```

두 가지 개선점이 있다. 

1. while 반복에만 사용하는 용도인 i, i2는 코드블럭 내내 살아있어서 메모리를 낭비하게 될 것.
2. 괜히 살아있는 i로 잘못썻다가 컴파일에 발견도 안되는 오류를 만들어 내는 것. 

위와 같은 실수를 방지하려면 for문이 더 나은 점이 있다.